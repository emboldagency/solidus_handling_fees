
# Solidus Handling Fees

![Semantic Versioning](https://embold.net/api/github/badge/semver.php?repo=solidus_handling_fees) <!--
--> [![release.yml](https://embold.net/api/github/badge/workflow-status.php?repo=solidus_handling_fees&workflow=release.yml)](https://github.com/emboldagency/solidus_handling_fees/actions/workflows/release.yml) <!--
--> [![ci.yml](https://embold.net/api/github/badge/workflow-status.php?repo=solidus_handling_fees&workflow=ci.yml)](https://github.com/emboldagency/solidus_handling_fees/actions/workflows/ci.yml)

This extension adds Handling Fee functionality to [Solidus](https://github.com/solidusio/solidus).

## Fork Notice

This repository is a fork of [solidusio-contrib/solidus_handling_fees](https://github.com/solidusio-contrib/solidus_handling_fees).
It may include customizations, fixes, or changes specific to the needs of emboldagency or its clients. For updates and documentation, refer to this repository: [emboldagency/solidus_handling_fees](https://github.com/emboldagency/solidus_handling_fees).

## Installation

Add `solidus_handling_fees` to your Gemfile:

```ruby
gem 'solidus_handling_fees', github: 'emboldagency/solidus_handling_fees', branch: 'master'
```

Bundle your dependencies and run the installation generator:

```sh
bundle
bundle exec rails g solidus_handling_fees:install
```

## Usage

To create a handling fee, edit a Stock Location in the Solidus admin and apply a calculator. For example, you might use the Flat Rate calculator to set a flat fee of $3.99 on all shipments.

If you'd like to specify only certain orders to have a handling fee, override the `needs_handling_charge?` method in your own `Solidus::Order` decorator (or `Spree::Order` if your Solidus installation still uses the Spree namespace).

## Testing

First bundle your dependencies, then run `rake`. `rake` will default to building the dummy app if it does not exist, then it will run specs, and [Rubocop](https://github.com/rubocop/rubocop) static code analysis. The dummy app can be regenerated by using `rake test_app`.

```shell
bundle
bundle exec rake
```

When testing your application's integration with this extension you may use its factories.
Simply add this require statement to your spec_helper:

```ruby
require 'solidus_handling_fees/factories'
```

## Releasing

Your new extension version can be released using `gem-release` like this:

```shell
bundle exec gem bump -v VERSION --tag --push --remote origin && gem release
```

Copyright (c) Brian Christian & [emBold](https://github.com/emboldagency), released under the GPL V3.
